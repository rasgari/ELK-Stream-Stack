# kafka edu

ุชูุธูุงุช ูุฏุฑุช ู ูฺฏูุฏุงุฑ ุฏุงุฏูโูุง (log management) ุฏุฑ Kafka

ฺฉูุชุฑู ุงูฺฉู ูุงฺฏโูุง Kafka ฺู ูุฏุช ู ุจู ฺู ุตูุฑุช ุฏุฑ ุณุฑูุฑ ูฺฏูุฏุงุฑ ุดููุฏ

```
KAFKA_CFG_LOG_ROLL_HOURS=24
KAFKA_CFG_LOG_RETENTION_HOURS=72
```

---

KAFKA_CFG_LOG_ROLL_HOURS=24

ุนู Kafka ูุฑ ฒด ุณุงุนุช ฺฉโุจุงุฑ ูุงู ูุงฺฏโูุง ูุฏู ุฎูุฏุด ุฑู ูโุจูุฏู ู ูุงู ุฌุฏุฏ ูโุณุงุฒู.

ุงู ฺฉุงุฑ ุจุงุนุซ ูุดู ูุงูโูุง ุฎู ุจุฒุฑฺฏ ูุดู ู ูุฏุฑุชุ ูุดุฑุฏูโุณุงุฒ ุง ุญุฐูุดูู ุฑุงุญุชโุชุฑ ุจุดู.

ูุงุจุณุชู ุจู ุชูุธู log.segment.bytes ูู ูุณุช.
ุนู ุงฺฏุฑ ูุงู ูุจู ุงุฒ ฒด ุณุงุนุช ุจู ุงูู ุงูุฏุงุฒูโ ุจุงุช ุจุฑุณูุ ุฒูุฏุชุฑ ูู ุจุณุชู ูุดู.

๐ ุจู ุฒุจุงู ุณุงุฏู:


ูุฑ ฒด ุณุงุนุช ฺฉ ูุงฺฏ ุฌุฏุฏ ุจุฑุง Topic ุณุงุฎุชู ูุดู.

---

KAFKA_CFG_LOG_RETENTION_HOURS=72

ุงู ุนู Kafka ูุงฺฏโูุง (ูพุงูโูุง ุฐุฎุฑูโุดุฏู ุฑู ุฏุณฺฉ) ุฑู ุชุง ฑถธ ุณุงุนุช = ท ุฑูุฒ ูฺฏู ูโุฏุงุฑู.

ุจุนุฏ ุงุฒ ุงููุ ูุงูโูุง ูุฏูโุชุฑ ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุญุฐู ูโุดู.

๐ ุจู ุฒุจุงู ุณุงุฏู:

ูพุงูโูุง ูุฏูโุชุฑ ุงุฒ ท ุฑูุฒ ุงุฒ ุฑู ุณุฑูุฑ ูพุงฺฉ ูโุดู ุชุง ูุถุง ุขุฒุงุฏ ุจูููู.

---

ุงุฑุชุจุงุท ุงู ุฏู ุจุง ุฐุฎุฑูโุณุงุฒ ุฏุฑ ุณุฑูุฑ

Kafka ุฏุงุฏูโูุง ุฑู ุฏุฑ ูุณุฑ log.dirs (ูุซู /bitnami/kafka/data ุง /var/lib/kafka/data) ุฐุฎุฑู ูโฺฉูู.

ููุช ูพุงูโูุง ูุงุฑุฏ Topic ูโุดู:

ุฏุงุฏูโูุง ุฏุฑ log segmentโูุง ููุดุชู ูโุดู.

ูุฑ segment ุจุฑ ุงุณุงุณ log.roll.hours ุง log.segment.bytes ุจุณุชู ูุดู.

Kafka ุจูโุตูุฑุช ุฏูุฑูโุง ุจุฑุฑุณ ูโฺฉูู:

ุงฺฏุฑ ุนูุฑ ูุงู ุงุฒ log.retention.hours ุจุดุชุฑ ุดุฏู โ ุญุฐู.

ุง ุงฺฏุฑ ฺฉู ุงูุฏุงุฒูโ ุฏุงุฏูโูุง ุงุฒ log.retention.bytes ุจุดุชุฑ ุจุดู โ ุญุฐู ูุฏูโุชุฑูุง.

---

ูฺฉุชู ฺฉุงุฑุจุฑุฏ:

ุงฺฏุฑ ุณุฑูุฑ ูุถุง ูุญุฏูุฏ ุฏุงุฑุฏ ุง ุชุฑุงูฺฉ Kafka ุจุงูุงุณุชุ ุญุชูุงู ุงู ณ ููุฑุฏ ุฑุง ุจุง ูู ุชูุธู ฺฉู:
```
environment:
  KAFKA_CFG_LOG_SEGMENT_BYTES: 1073741824   # ูุฑ 1GB ฺฉ ูุงู
  KAFKA_CFG_LOG_ROLL_HOURS: 24              # ูุฑ 24 ุณุงุนุช ูุงู ุฌุฏุฏ
  KAFKA_CFG_LOG_RETENTION_HOURS: 168        # ูฺฏูุฏุงุฑ ุชุง 7 ุฑูุฒ
  KAFKA_CFG_LOG_RETENTION_CHECK_INTERVAL_MS: 300000  # ูุฑ 5 ุฏููู ุจุฑุฑุณ ุญุฐู

```
